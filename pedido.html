<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <title>Pedido - FoodTruck</title>
  <link rel="stylesheet" href="style.css">
  <script>
    const precos = {
      margherita: 11,
      peperoni: 10,
      coca: 4,
      'fanta-laranja': 4,
      'fanta-uva': 4,
      sprite: 4
    };

    function getMesa() {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get('mesa') || 'N√£o informada';
    }

    function alterarQtd(id, delta) {
      const input = document.getElementById('qtd-' + id);
      let valor = parseInt(input.value);
      valor = Math.max(0, valor + delta);
      input.value = valor;
      atualizarTotal(id);
    }

    function atualizarTotal(id) {
      const qtd = parseInt(document.getElementById('qtd-' + id).value);
      const total = qtd * precos[id];
      document.getElementById('total-' + id).innerText = 'Total: R$ ' + total.toFixed(2);
      calcularTotalGeral();
    }

    function calcularTotalGeral() {
      let total = 0;
      for (let id in precos) {
        const qtd = parseInt(document.getElementById('qtd-' + id).value);
        total += qtd * precos[id];
      }
      document.getElementById('total-geral').innerText = 'R$ ' + total.toFixed(2);
    }

    function enviarPedido() {
      const mesa = getMesa();
      const formaPagamento = document.querySelector('input[name="pagamento"]:checked');
      if (!formaPagamento) {
        alert("Selecione a forma de pagamento.");
        return;
      }

      let resumo = `üßæ Ficha da Mesa ${mesa}\nForma de pagamento: ${formaPagamento.value}\n\nüë®‚Äçüç≥ Pedido para a cozinha:\n`;
      for (let id in precos) {
        const qtd = parseInt(document.getElementById('qtd-' + id).value);
        if (qtd > 0) {
          resumo += `- ${id.replace('-', ' ')}: ${qtd} unidade(s)\n`;
        }
      }

      const total = document.getElementById('total-geral').innerText;
      resumo += `\nüí∞ Total: ${total}`;

      alert(resumo);
    }
  </script>
</head>
<body onload="document.getElementById('mesa-info').innerText = getMesa();">
  <header>
    <h1>Pedido - FoodTruck</h1>
    <nav>
      <a href="index.html">Voltar ao Card√°pio</a>
      <a href="qrcodes.html">QR Codes</a>
    </nav>
  </header>

  <section class="frame">
    <h2>üßæ Ficha da Mesa: <span id="mesa-info"></span></h2>
  </section>

  <!-- üçï Pizzas -->
  <section class="frame">
    <h2>üçï Pizzas</h2>

    <div class="card">
      <img src="https://cdn.pixabay.com/photo/2020/03/28/17/10/pizza-4975426_1280.jpg" alt="Pizza Margherita">
      <h3>Pizza Margherita</h3>
      <p>Molho de tomate, mussarela fresca, manjeric√£o, parmes√£o e azeite extra virgem</p>
      <div class="qtd-control">
        <button type="button" onclick="alterarQtd('margherita', -1)">‚Äì</button>
        <input type="number" id="qtd-margherita" value="0" min="0" onchange="atualizarTotal('margherita')">
        <button type="button" onclick="alterarQtd('margherita', 1)">+</button>
      </div>
      <span>Pre√ßo unit√°rio: R$ 11,00</span>
      <div id="total-margherita" class="total-produto">Total: R$ 0.00</div>
    </div>

    <div class="card">
      <img src="https://cdn.pixabay.com/photo/2022/06/15/18/28/pizza-7263827_1280.jpg" alt="Pizza Peperoni">
      <h3>Pizza Peperoni</h3>
      <p>Peperoni crocante, queijo derretido e molho especial</p>
      <div class="qtd-control">
        <button type="button" onclick="alterarQtd('peperoni', -1)">‚Äì</button>
        <input type="number" id="qtd-peperoni" value="0" min="0" onchange="atualizarTotal('peperoni')">
        <button type="button" onclick="alterarQtd('peperoni', 1)">+</button>
      </div>
      <span>Pre√ßo unit√°rio: R$ 10,00</span>
      <div id="total-peperoni" class="total-produto">Total: R$ 0.00</div>
    </div>
  </section>

  <!-- ü•§ Bebidas -->
  <section class="frame">
    <h2>ü•§ Bebidas</h2>

    <div class="card">
      <img src="https://cdn.pixabay.com/photo/2016/03/05/19/02/coca-cola-1236241_1280.jpg" alt="Coca-Cola">
      <h3>Coca-Cola</h3>
      <p>Refrigerante tradicional, lata 350ml</p>
      <div class="qtd-control">
        <button type="button" onclick="alterarQtd('coca', -1)">‚Äì</button>
        <input type="number" id="qtd-coca" value="0" min="0" onchange="atualizarTotal('coca')">
        <button type="button" onclick="alterarQtd('coca', 1)">+</button>
      </div>
      <span>Pre√ßo unit√°rio: R$ 4,00</span>
      <div id="total-coca" class="total-produto">Total: R$ 0.00</div>
    </div>

    <div class="card">
      <img src="https://cdn.pixabay.com/photo/2020/06/03/17/18/fanta-5254556_1280.jpg" alt="Fanta Laranja">
      <h3>Fanta Laranja</h3>
      <p>Sabor laranja, lata 350ml</p>
      <div class="qtd-control">
        <button type="button" onclick="alterarQtd('fanta-laranja', -1)">‚Äì</button>
        <input type="number" id="qtd-fanta-laranja" value="0" min="0" onchange="atualizarTotal('fanta-laranja')">
        <button type="button" onclick="alterarQtd('fanta-laranja', 1)">+</button>
      </div>
      <span>Pre√ßo unit√°rio: R$ 4,00</span>
      <div id="total-fanta-laranja" class="total-produto">Total: R$ 0.00</div>
    </div>

    <div class="card">
      <img src="https://cdn.pixabay.com/photo/2020/06/03/17/18/fanta-5254557_1280.jpg" alt="Fanta Uva">
      <h3>Fanta Uva</h3>
      <p>Sabor uva, lata 350ml</p>
      <div class="qtd-control">
        <button type="button" onclick="alterarQtd('fanta-uva', -1)">‚Äì</button>
        <input type="number" id="qtd-fanta-uva" value="0" min="0" onchange="atualizarTotal('fanta-uva')">
        <button type="button" onclick="alterarQtd('fanta-uva', 1)">+</button>
      </div>
      <span>Pre√ßo unit√°rio: R$ 4,00</span>
      <div id="total-fanta-uva" class="total-produto">Total: R$ 0.00</div>
    </div>

    <div class="card">
      <img src="https://cdn.pixabay.com/photo/2020/06/03/17/18/sprite-5254558_1280.jpg" alt="Sprite">
      <h3>Sprite</h3>
      <p>Sabor lim√£o, lata 350ml</p>
